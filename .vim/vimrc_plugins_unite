"uniteの設定--------------------------------------------------
call unite#custom_source('line', 'matchers', 'matcher_migemo')

nnoremap [unite] <Nop>
nmap     ,u [unite]

"バッファ一欄
nnoremap <silent> [unite]b :<C-u>Unite buffer<CR>
"ファイル一覧
nnoremap <silent> [unite]f :<C-u>UniteWithBufferDir -buffer-name=files file<CR>
"レジスタ一覧
nnoremap <silent> [unite]r :<C-u>Unite -buffer-name=register register<CR>
"最近使用したファイル一覧
nnoremap <silent> [unite]mr :<C-u>Unite file_mru<CR>
"全部載せ
nnoremap <silent> [unite]a :<C-u>UniteWithBufferDir -buffer-name=files buffer file_mru bookmark file<CR>
"tab一欄
nnoremap <silent> [unite]tb :<C-u>Unite tab<CR>
"Window一覧
nnoremap <silent> [unite]w :<C-u>Unite window<CR>
"keymapping
nnoremap <silent> [unite]mp :<C-u>Unite mapping<CR>
"keymapping
nnoremap <silent> [unite]bk :<C-u>Unite bookmark<CR>


" ESCキーを2回押すと終了する
au FileType unite nnoremap <silent> <buffer> <ESC><ESC> q
au FileType unite inoremap <silent> <buffer> <ESC><ESC> <ESC>q

"unite-outlineの設定
"unite-outlineでアウトライン表示
nnoremap <silent> ,oo :<C-u>Unite -vertical -direction=botright -buffer-name=outline outline<CR>
"unite-outlineでキャッシュ削除し表示
nnoremap <silent> ,oo! :<C-u>Unite -vertical -direction=botright outline:!<CR>

"unite-grep
let g:unite_source_grep_command = 'ag'
let g:unite_source_grep_max_candidates = 200
let g:unite_source_grep_default_opts = '--nocolor --nogroup'
let g:unite_source_grep_recursive_opt = ''
"nnoremap <silent> [unite]g :<C-u>Unite grep:%:<CR>
"閉じないように --no-quit を付加
nnoremap <silent> [unite]g :<C-u>Unite grep -no-quit <CR>


"unite-tagの設定
nnoremap <silent> [unite]tg :<C-u>Unite tag<CR>
nnoremap <silent> [unite]tf :<C-u>Unite tag/file<CR>
nnoremap <silent> [unite]ti :<C-u>Unite tag/include<CR>

"http://d.hatena.ne.jp/thinca/20110202/1296575731 から拝借
"noremap <silent> <C-]> :<C-u>Unite -no-start-insert tags:<C-r>=expand('<cword>')<CR><CR>
autocmd BufEnter *
  \   if empty(&buftype)
  \|      nnoremap <buffer> <C-\> :<C-u>UniteWithCursorWord -immediately tag<CR>
  \|  endif

"unite-git_grep
nnoremap <silent> ,gg :<C-u>Unite vcs_grep/git<CR>

"unite-history
let g:unite_source_history_yank_enable = 1 "history/yank有効化
nnoremap <silent> [unite]y :<C-u>Unite history/yank<CR>
nnoremap <silent> [unite]c :<C-u>Unite history/command<CR>
nnoremap <silent> [unite]s :<C-u>Unite history/search<CR>

"unite-help
" Execute help.
nnoremap <C-h>  :<C-u>Unite -start-insert help<CR>
" Execute help by cursor keyword.
nnoremap <silent> g<C-h>  :<C-u>UniteWithCursorWord help<CR>

"unite line
nnoremap <silent> [unite]l :<C-u>Unite line<CR>

" junkfile
nnoremap <silent> [unite]j :<C-u>Unite junkfile/new junkfile <CR>
